(()=>{"use strict";class e{constructor(e){this.name=e,this.arrayOfTodos=[]}}let t=[];function n(){document.querySelector(".projects").innerHTML="";for(let e=1;e<t.length;e++){let n=document.createElement("div");n.className="project",document.querySelector(".projects").appendChild(n),n.textContent=t[e].name;let r=document.createElement("button");r.textContent="x",r.addEventListener("click",(()=>{c(t[e])})),n.addEventListener("click",(()=>{o(t[e])})),n.appendChild(r)}}function r(){document.querySelector("#content").innerHTML="";let e=document.createElement("div");e.className="today";let n=function(){let e=new Date,t=String(e.getDate()).padStart(2,"0"),n=String(e.getMonth()+1).padStart(2,"0"),r=e.getFullYear();return e=r+"-"+n+"-"+t,e}();for(let e in t)for(let r=1;r<t[e].arrayOfTodos.length;r++)t[e].arrayOfTodos[r].date==n&&o(t[e],r);document.querySelector(".today").appendChild(e)}function o(e,t){t||(document.getElementById("content").innerHTML="");for(let n=1;n<=e.arrayOfTodos.length-1;n++){let c=document.createElement("div");c.className="task";let d=document.createElement("button");d.textContent="",d.className="checkbox",c.appendChild(d);let a=document.createElement("div");a.textContent=e.arrayOfTodos[n].name,a.className="taskname",c.appendChild(a);let l=document.createElement("div");l.textContent=e.arrayOfTodos[n].description,l.className="description",c.appendChild(l);let i=document.createElement("div");c.priority=e.arrayOfTodos[n].priority,1==e.arrayOfTodos[n].priority&&(a.style.background="red"),2==e.arrayOfTodos[n].priority&&(a.style.background="orange"),3==e.arrayOfTodos[n].priority&&(a.style.background="yellow"),i.className="priority",c.appendChild(i),d.addEventListener("click",(()=>{var c;c=n,e.arrayOfTodos.splice(c,1),t?r():o(e)}));let u=document.createElement("div");c.appendChild(u),u.className="date",u.textContent=e.arrayOfTodos[n].date,t?t==n&&document.querySelector("#content").appendChild(c):document.querySelector("#content").appendChild(c)}t||d(e)}function c(e){for(let n=0;n<t.length;n++)t[n]==e&&t.splice(n,1);document.querySelector("#content").innerHTML="",n()}function d(e){let t=document.createElement("button");document.querySelector("#content").appendChild(t),t.textContent="Create todo",t.addEventListener("click",(()=>{!function(e){let t=document.querySelector(".popup");t.style.transform="scale(1)",document.body.addEventListener("click",(function(e){e.target==t&&(t.style.transform="scale(0)")})),document.querySelector(".submit-button").addEventListener("click",a,!1),document.querySelector(".submit-button").parameter=e}(e)}))}function a(e){let t={name:document.getElementById("taskname").value,description:document.getElementById("description").value,date:document.getElementById("date").value,priority:document.getElementById("priority").value},n=document.querySelector(".popup");e.currentTarget.parameter.arrayOfTodos.push(t),n.style.transform="scale(0)",o(e.currentTarget.parameter)}!function(){let n=new e("Inbox"),c=document.createElement("div");c.className="inbox";let a=d(n);n.arrayOfTodos.push(a),t.push(n),document.querySelector(".inbox").addEventListener("click",(()=>{o(n)})),document.querySelector(".today").addEventListener("click",r),document.querySelector(".inbox").appendChild(c)}(),document.querySelector("#project").addEventListener("click",(function r(){this.removeEventListener("click",r);var o=document.querySelector(".projects");let c=document.createElement("button");c.textContent="x",c.addEventListener("click",(()=>{o.removeChild(a),o.removeChild(l),o.removeChild(c),this.addEventListener("click",r)}));var a=document.createElement("input");a.setAttribute("type","text"),o.appendChild(a);var l=document.createElement("button");o.appendChild(c),o.appendChild(l),l.textContent="Ok",l.addEventListener("click",(()=>{let c=a.value;c?(o.removeChild(a),o.removeChild(l),function(r){let o=new e(r);t.push(o),document.querySelector("#content").textContent="";let c=d(o);o.arrayOfTodos.push(c),n()}(c)):alert("Enter project name"),this.addEventListener("click",r)}))}))})();